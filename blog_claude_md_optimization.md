# CLAUDE.md 3버전 비교해봤더니, 원본이 가장 나았다 — "개선"의 함정

> 비개발자 노무사가 Claude Code로 급여관리 시스템을 만들고 있습니다.
> AI한테 코딩을 시키는 "룰북"인 CLAUDE.md를 최적화한 이야기입니다.

---

## CLAUDE.md가 뭔데?

Claude Code에는 `CLAUDE.md`라는 파일이 있습니다. 프로젝트 루트에 놓으면 **매 세션마다 AI가 자동으로 읽습니다.** "이 프로젝트는 이런 구조야", "이런 실수는 하지 마" 같은 규칙을 적어놓는 파일입니다.

쉽게 말하면, **AI한테 주는 업무 매뉴얼**입니다.

이걸 잘 쓰면 AI가 매 세션마다 같은 실수를 반복하지 않고, 못 쓰면 매번 같은 말을 반복하게 됩니다. 제 이전 글([바이브코딩 삽질 10선](https://example.com))의 4번째 삽질이 바로 이 이야기였습니다.

---

## 발단: "더 좋게 만들어보자"

제 CLAUDE.md에는 두 종류의 내용이 있었습니다:

1. **행동 규칙** — "요청 안 한 기능 만들지 마", "수정한 부분만 건드려" 같은 코딩 행동 지침
2. **프로젝트 정보** — 기술 스택, 파일 구조, 컨벤션 같은 프로젝트별 맥락

행동 규칙 부분을 인터넷에서 가져와서 쓰고 있었는데, 어느 날 이런 생각이 들었습니다.

> "이거 더 개선할 수 있지 않을까?"

그래서 **3개 버전**을 만들게 됐습니다.

---

## 세 버전 소개

### Original (~50줄) — 처음 가져온 원본

```
1. Think Before Coding — 가정을 명시하고, 모호하면 물어봐라
2. Simplicity First — 최소 코드. 요청 안 한 건 만들지 마
3. Surgical Changes — 수정한 부분만 건드려. 옆에 있는 코드 "개선"하지 마
4. Goal-Driven Execution — 성공 기준 정하고 검증까지 루프
```

4개 규칙. 깔끔합니다.

### Enhanced v2.0 (160줄) — "이것저것 추가해보자"

원본에 4개 섹션을 추가했습니다:
- 0번: Orient First (코드 먼저 읽어라)
- 5번: Failure Recovery Protocol (실패 시 롤백해라)
- 6번: Task Complexity Calibration (작업 복잡도별 다르게 대응)
- 7번: Communication Cadence (언제 말하고 언제 조용히 할지)

`[NEW]`, `[ENHANCED]` 태그까지 붙이면서 꽤 그럴듯해 보였습니다.

### Final (103줄) — "통합하자"

Enhanced의 8개 섹션을 5개로 통합. 중복 제거하고, `[Observation]` 패턴 같은 실용적 기능을 추가했습니다.

---

## 비교 결과: 원본이 이겼다

Claude한테 세 버전을 비교해달라고 했더니, 처음에는 **final이 압도적으로 좋다**고 했습니다. 점수까지 매겨서 final 8.8점, enhanced 6.2점이라고요.

그런데 원본을 보여주면서 "이것도 비교해봐"라고 했더니, 결론이 뒤집혔습니다.

### 왜 원본이 더 나은가?

**원본이 자기 자신의 원칙을 가장 잘 지킵니다.**

원본의 2번 규칙이 이겁니다:
> "No features beyond what was asked. No abstractions for single-use code. If you write 200 lines and it could be 50, rewrite it."

그런데 enhanced/final은 정확히 이 규칙을 위반합니다:

| 원본 (지킴) | enhanced/final (위반) |
|------------|---------------------|
| "사소한 작업은 판단에 맡긴다" **(1줄)** | Task Complexity Calibration **(23줄)** |
| "과잉인가?" 질문 1개 **(1줄)** | Self-review 질문 3개 (2번과 3번은 같은 말) |
| 성공 지표 1문장 | 별도 섹션으로 분리 |

**1줄로 할 수 있는 걸 23줄로 쓴 것은, 자기가 금지하는 바로 그 행동(과잉 설계)입니다.**

---

## 더 깊은 발견: Claude Code 내장 규칙과의 중복

여기서 한 단계 더 들어갔습니다. Claude Code에는 **이미 시스템 프롬프트로 내장된 규칙**이 있습니다.

| CLAUDE.md에 적은 규칙 | Claude Code에 이미 있는가? |
|----------------------|--------------------------|
| "수정 전에 코드를 먼저 읽어라" | 이미 있음 ("do not propose changes to code you haven't read") |
| "요청 안 한 기능 만들지 마" | 이미 있음 ("Don't add features beyond what was asked") |
| "일회용 코드에 추상화 하지 마" | 이미 있음 ("Don't create helpers for one-time operations") |
| "불가능한 시나리오에 에러 핸들링 하지 마" | 이미 있음 ("Only validate at system boundaries") |

**원본 50줄 중에서도 35~40%가 이미 내장된 규칙의 중복이었습니다.**

CLAUDE.md에 쓴 모든 글자는 매 대화마다 컨텍스트 윈도우를 소비합니다. 중복 규칙은 **비용만 발생시키고 효과는 미미한 셈**입니다.

---

## 최종 결론: Original + 수술적 패치 3개

원본을 그대로 쓰되, enhanced/final에서 **진짜 가치 있는 아이디어 3개만** 1~2줄씩 추가했습니다.

### 패치 1: "Never silently switch approaches" (§1에 1줄 추가)
AI가 접근 방식을 바꿀 때 **말 없이 바꾸는 것**이 가장 위험합니다. "처음에 A 방식으로 하겠다고 했는데, 중간에 몰래 B로 바꿔버리는" 상황을 방지합니다.

### 패치 2: `[Observation]` 패턴 (§3의 기존 규칙 교체)
수정 중에 관련 없는 버그를 발견하면, **고치지 말고 보고만 하라**는 규칙입니다. 원본은 "mention it - don't delete it"이었는데, 구체적인 보고 형식을 지정해줬습니다.

### 패치 3: "If your fix needs a fix, STOP" (§4에 1줄 추가)
AI가 가장 자주 빠지는 함정입니다. 수정이 또 다른 수정을 부르면 롤백하라는 규칙. 이게 없으면 AI가 끝없이 "한 줄만 더 고치면 될 것 같은데..."를 반복합니다.

### 결과

| | 전 | 후 |
|---|---|---|
| 행동 규칙 | 50줄 | ~55줄 (+3줄 패치) |
| 프로젝트 정보 | 247줄 | ~85줄 (53% 압축) |
| **총합** | **297줄** | **~140줄 (-53%)** |

컨텍스트 윈도우 소비량을 절반으로 줄이면서, 행동 제어 품질은 오히려 올렸습니다.

---

## 교훈 3가지

### 1. 개선 ≠ 추가

뭔가를 더 좋게 만들겠다고 **규칙을 추가하면**, 오히려 나빠질 수 있습니다. 1줄로 충분한 규칙을 23줄로 풀어쓰면 읽는 쪽(AI)의 "집중력"이 분산됩니다. 인간 매뉴얼도 마찬가지 아닌가요?

### 2. 중복은 비용이다

CLAUDE.md에 쓴 모든 글자는 매 대화마다 토큰을 먹습니다. Claude Code가 이미 지키고 있는 규칙을 또 적으면, **돈과 컨텍스트만 낭비**됩니다. "강화 효과가 있지 않을까?"라고 생각할 수 있지만, 실제로는 그 토큰을 프로젝트별 고유 지식에 쓰는 게 훨씬 효율적입니다.

### 3. CLAUDE.md 자체에도 Simplicity First를 적용하라

CLAUDE.md의 2번 규칙이 "최소 코드로 문제를 풀어라"입니다. **CLAUDE.md 자체도 코드입니다.** AI가 읽는 프롬프트니까요. 같은 원칙을 적용해야 합니다.

> "Would a senior engineer say this CLAUDE.md is overcomplicated?" If yes, simplify.

---

## 부록: 최적의 CLAUDE.md 구조

제가 정착한 구조입니다:

```
Part 1: 행동 규칙 (~55줄)
  - AI 내장 규칙과 중복되지 않는 것만
  - 구체적이고 검증 가능한 규칙만

Part 2: 프로젝트 고유 정보 (~85줄)
  - 자동 실행 규칙 (Git, 빌드 등)
  - 품질 체크리스트 (장황한 설명 X, 체크리스트 O)
  - 프로젝트 구조 + 핵심 파일
  - 코딩 컨벤션 (프로젝트 특화 pitfall 포함)
```

**총 140줄 이하**가 목표입니다. 이보다 길어지면 "정말 필요한 줄인가?"를 한 줄씩 점검하세요.

---

*이 글도 Claude Code(Opus 4.6)와 함께 작성했습니다. CLAUDE.md를 최적화했더니 대화 품질이 체감될 정도로 올라갔습니다. 매 세션의 첫 응답이 더 정확해진 느낌입니다.*
