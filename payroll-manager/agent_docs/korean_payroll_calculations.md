# 한국 급여 계산 도메인 지식
# AI 에이전트가 급여 로직 구현 시 참조하는 문서
# ⚠️ 2026년 기준 요율. 매년 1월 업데이트 필요.

## 통상임금 계산
통상임금 = 기본급 + 고정수당 (식대, 교통비 등 매월 정기적/일률적/고정적 수당)
- 성과급, 상여금(비고정): 통상임금 제외
- 월 통상임금 시급 = 월 통상임금 / 209시간 (주40시간 기준)

## 4대보험 공제 방식

두 가지 방식이 있으며, 사업장별로 선택 가능:

### 방식 1: 요율 계산 (Rate-based)
- 급여 × 요율로 직접 산출
- 용도: 신규 입사자, 급여 시뮬레이션, 예상 공제액 계산
- 장점: 즉시 계산 가능, 별도 데이터 불필요
- 단점: 공단 고지액과 차이 발생 가능 (정산 필요)

### 방식 2: 고지내역 반영 (Notice-based)
- 각 공단(국민연금공단, 건강보험공단, 근로복지공단)에서 매월 보내는 고지서 금액 그대로 적용
- 용도: 실제 급여 처리 (실무에서 더 일반적)
- 장점: 정산 차이 없음, 공단과 정확히 일치
- 단점: 매월 고지 데이터 입력/연동 필요
- 데이터: 사업장별 월별 고지내역 (근로자별 보험료 금액)

> **구현 우선순위**: 요율 계산을 기본으로 구현하되, 고지내역 반영 기능을 추가하여 사업장별 선택 가능하도록.

## 4대보험 요율 (2026년 기준)

### 국민연금
- 근로자: 4.75% / 사업주: 4.75% (합계 9.5%)
- 기준소득월액 상한: 6,170,000원 / 하한: 390,000원 (2026년 상·하한 공단 고시 확인 필요)
- 소수점 처리: 원 미만 절사
- **기준소득월액 고정 규칙**: 최초 취득 신고 시 보수월액으로 결정 → 다음 해 6월까지 고정
  - 매년 7월 정기결정: 전년도 실제 소득 기반으로 재산정 (7월~다음해 6월 적용)
  - 즉, 매월 급여가 변동되더라도 국민연금 보험료는 기준소득월액 기준으로 동일 금액 부과

### 건강보험
- 근로자: 3.595% / 사업주: 3.595% (합계 7.19%)
- 장기요양보험: 건강보험료의 13.14% (근로자/사업주 각각)
- 소수점 처리: 원 미만 절사
- **고지 방식**: 보수월액 기준으로 매월 동일 금액 부과 → 매년 4월 정산 (전년도 실제 보수 vs 보수월액 차이 추징/환급)
- **요율 방식**: 매월 실제 급여 × 당해년도 요율로 단순 공제 (정산 없음)

### 고용보험
- 근로자: 0.9%
- 사업주: 0.9% + 고용안정/직업능력개발 (규모별 차등)
  - 150인 미만: 0.25%
  - 150인 이상~우선지원: 0.45%
  - 150인~1000인 미만: 0.65%
  - 1000인 이상/국가지자체: 0.85%
- 소수점 처리: 원 미만 절사

### 산재보험
- 전액 사업주 부담
- 업종별 차등 (0.7%~18.6%, 사무직 평균 0.7%)
- 근로자 급여에서 공제하지 않음

## 소득세 계산
- 간이세액표 기반 (국세청 발표)
- 근로소득 간이세액 = 간이세액표 조회 (월급여, 부양가족수)
- 지방소득세 = 소득세의 10%

## 연차수당 계산
- 미사용 연차 × 1일 통상임금
- 1일 통상임금 = 월 통상임금 / 월 소정근로일수
- 주휴수당 포함하여 계산

## 퇴직금 계산
- 1일 평균임금 × 30일 × (재직일수 / 365)
- 평균임금 = 퇴직 전 3개월간 임금총액 / 퇴직 전 3개월간 총일수
- 평균임금 < 통상임금이면, 통상임금을 평균임금으로 사용

## 소수점 및 단위 처리 규칙
- 보험료: 원 미만 절사 (Math.floor)
- 소득세: 원 미만 절사
- 수당: 원 미만 반올림 (Math.round)
- 모든 금액은 정수(원)로 최종 표시

## 코드 구현 시 주의사항
1. 모든 계산 함수는 `lib/calculations/`에 순수 함수로 작성
2. 요율은 상수 파일(`lib/calculations/constants.ts`)에서 관리
3. 매 계산 단계별 중간값을 로깅할 수 있도록 구조화
4. 연도별 요율 변경에 대응할 수 있는 구조 (year 파라미터)
5. 모든 계산 함수에 단위 테스트 필수 (경계값, 상한/하한 포함)
