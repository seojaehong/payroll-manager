# PDCA Plan: Dashboard Restructure

> Feature: dashboard-restructure
> Created: 2026-02-04
> Status: Plan Phase

---

## 1. 문제 정의

### 현재 상태
- 대시보드(`/`)가 **단일 사업장에 종속**됨
- 사업장 미선택 시 "사업장을 선택하세요" **빈 화면** 표시
- BusinessSelector로 사업장 선택 후에야 정보 확인 가능
- 사업장 관리(`/businesses`)는 CRUD 테이블로만 존재

### 디자인 원칙 위반 사항

| 원칙 | 위반 내용 |
|------|----------|
| **단순함** | 앱 진입 시 빈 화면, 선택 동작 필요 |
| **일관성** | "대시보드"가 전체 현황이 아닌 단일 사업장 화면 |
| **명확성** | BusinessSelector 역할 모호 (필터? 네비게이션?) |
| **계층** | 전체 → 상세 계층 없이 강제 선택 시작 |

### 사용자 페인포인트
> "앱을 열면 뭔가를 선택해야만 화면이 보임. 전체 현황을 한눈에 볼 수 없음."

---

## 2. 목표

### Primary Goal
**앱 진입 즉시 전체 사업장 현황을 보여주는 진짜 "대시보드" 구현**

### Success Criteria
| # | 기준 | 측정 방법 |
|---|------|----------|
| 1 | 첫 화면에서 즉시 전체 통계 표시 | 빈 화면 없음 |
| 2 | 모든 사업장 카드가 한눈에 표시 | 카드 그리드 렌더링 |
| 3 | 카드 클릭 시 사업장 상세로 이동 | 라우팅 동작 |
| 4 | BusinessSelector 제거 또는 역할 변경 | 헤더 UI 변경 |

---

## 3. 범위 정의

### In Scope (이번 PDCA)
- [ ] 대시보드(`/`) 전체 사업장 개요로 재설계
- [ ] 사업장 카드 컴포넌트 생성
- [ ] 전체 통계 섹션 추가
- [ ] BusinessSelector 제거 또는 "빠른 이동" 역할로 변경
- [ ] 사이드바 네비게이션 정리

### Out of Scope (향후)
- 사업장 상세 페이지 탭 구조 변경 (이미 완료됨)
- 모바일 반응형 레이아웃
- 대시보드 위젯 커스터마이징

---

## 4. 해결 방안

### 4.1 정보 아키텍처 재설계

```
현재 (문제)                    개선 후
───────────────────────────────────────────────────
┌────────────────┐            ┌────────────────────┐
│ BusinessSelector│            │ 📊 대시보드 (/)    │
│ (선택 필수)     │            │                    │
└───────┬────────┘            │ ┌──────┬──────┐   │
        │                      │ │전체  │알림  │   │
        ▼                      │ │통계  │섹션  │   │
┌────────────────┐            │ └──────┴──────┘   │
│ 단일 사업장     │            │                    │
│ 대시보드        │            │ ┌─────────────┐   │
│                │            │ │사업장 A 카드 │   │
│ (빈화면 가능)   │            │ │사업장 B 카드 │   │
└────────────────┘            │ │사업장 C 카드 │   │
                              │ └─────────────┘   │
                              └─────────┬─────────┘
                                        │ 클릭
                                        ▼
                              ┌────────────────────┐
                              │ 🏢 사업장 상세      │
                              │ /businesses/[id]   │
                              │                    │
                              │ [근로자][급여][신고]│
                              └────────────────────┘
```

### 4.2 새로운 대시보드 구성

| 섹션 | 내용 |
|------|------|
| **헤더** | "급여관리 대시보드" (사업장명 X) |
| **전체 통계** | 총 사업장, 총 재직자, 이번달 입/퇴사, 급여 입력률 |
| **알림** | 전체 사업장 기준 신고 필요 건수 |
| **사업장 카드** | 각 사업장 요약 (이름, 재직자, 이번달 변동, 급여 입력률) |
| **빠른 작업** | 제거 (사업장 상세로 이동) |

### 4.3 사업장 카드 디자인

```
┌─────────────────────────────────────────┐
│  🏢 ㈜ABC회사                    [→]    │
│  ─────────────────────────────────────  │
│  재직: 12명  |  입사: +2  |  퇴사: -1   │
│                                         │
│  [████████████░░] 급여 입력 85%         │
│                                         │
│  ⚠️ 취득신고 2건 필요                   │
└─────────────────────────────────────────┘
```

### 4.4 사이드바 네비게이션 변경

| 현재 | 변경 후 | 이유 |
|------|---------|------|
| 대시보드 | 대시보드 | 유지 (전체 개요) |
| 근로자 관리 | **제거** | 사업장 상세에서 접근 |
| 급여 관리 | **제거** | 사업장 상세에서 접근 |
| 신고서 생성 | **제거** | 사업장 상세에서 접근 |
| 명세서 발송 | **제거** | 사업장 상세에서 접근 |
| 엑셀 Import | **제거** | 사업장 상세에서 접근 |
| 설정 | 설정 | 유지 (전역 설정) |

**간소화된 사이드바:**
```
📊 대시보드       ← 전체 현황
⚙️ 설정          ← 전역 설정
```

> 사업장 컨텍스트 메뉴(근로자/급여/신고서)는 사업장 상세 페이지 탭으로 이동

---

## 5. 영향 범위

### 수정 파일
| 파일 | 변경 내용 |
|------|----------|
| `src/app/page.tsx` | 전체 재작성 (전체 사업장 대시보드) |
| `src/components/Layout.tsx` | 사이드바 간소화, BusinessSelector 제거 |
| `src/components/BusinessSelector.tsx` | 삭제 또는 역할 변경 |

### 새로 생성
| 파일 | 내용 |
|------|------|
| `src/components/ui/BusinessCard.tsx` | 사업장 카드 컴포넌트 |

### 삭제 가능
| 파일 | 이유 |
|------|------|
| `src/app/workers/page.tsx` | 이미 리다이렉트 (확인 필요) |
| `src/app/import/page.tsx` | 사업장 상세로 통합 |

---

## 6. 리스크 및 대응

| 리스크 | 영향 | 대응 |
|--------|------|------|
| 기존 사용자 혼란 | MEDIUM | 마이그레이션 없이 바로 적용 (데이터 변경 없음) |
| 사이드바 간소화로 접근성 저하 | LOW | 사업장 카드가 명확한 진입점 제공 |
| 리다이렉트 페이지 정리 필요 | LOW | 기존 URL은 사업장 상세로 리다이렉트 유지 |

---

## 7. 구현 순서 (예정)

| Phase | 작업 | 예상 |
|-------|------|------|
| 1 | BusinessCard 컴포넌트 생성 | 신규 |
| 2 | 대시보드(`/`) 전체 재작성 | 재작성 |
| 3 | Layout 사이드바 간소화 | 수정 |
| 4 | BusinessSelector 처리 | 삭제/변경 |
| 5 | 테스트 및 검증 | 테스트 |

---

## 8. 승인

| 역할 | 이름 | 날짜 | 서명 |
|------|------|------|------|
| Developer | Claude Code | 2026-02-04 | ✅ |
| Reviewer | User | - | Pending |

---

*Plan created: 2026-02-04*
*PDCA Phase: Plan*
